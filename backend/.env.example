# WeAreOut Backend Environment Configuration
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control

# ====================
# Server Configuration
# ====================
NODE_ENV=development
PORT=3000

# ====================
# Database Configuration
# ====================
# PostgreSQL connection settings
DB_HOST=localhost
DB_PORT=5432
DB_NAME=weareout
DB_USER=postgres
DB_PASSWORD=your_secure_password_here

# Connection pool settings
DB_POOL_MAX=20
DB_POOL_MIN=5
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=5000

# ====================
# JWT Configuration
# ====================
# REQUIRED: Generate a secure random string for production
# Example: openssl rand -base64 64
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production

# Token expiration times
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# JWT issuer and audience
JWT_ISSUER=weareout-api
JWT_AUDIENCE=weareout-client

# ====================
# Security Configuration
# ====================
# Bcrypt salt rounds (10-12 recommended for production)
BCRYPT_ROUNDS=12

# Password policy
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL=true

# Session management
MAX_SESSIONS=5
SESSION_CLEANUP_INTERVAL=3600000

# Token blacklist
TOKEN_BLACKLIST_ENABLED=true
BLACKLIST_CLEANUP_INTERVAL=3600000

# ====================
# Rate Limiting
# ====================
# Login rate limiting
LOGIN_RATE_WINDOW=900000
LOGIN_RATE_MAX=5

# Registration rate limiting
REGISTER_RATE_WINDOW=3600000
REGISTER_RATE_MAX=3

# Token refresh rate limiting
REFRESH_RATE_WINDOW=900000
REFRESH_RATE_MAX=10

# ====================
# CORS Configuration
# ====================
# Comma-separated list of allowed origins
# Example: http://localhost:3000,https://yourdomain.com
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8080

# ====================
# Google Gemini AI
# ====================
# Google Gemini API key for AI features
GEMINI_API_KEY=your_gemini_api_key_here

# Gemini model configuration
GEMINI_MODEL=gemini-1.5-flash-latest
GEMINI_TEMPERATURE=0.7
GEMINI_MAX_TOKENS=1024

# ====================
# Google Cloud Storage
# ====================
# For image storage and processing
GOOGLE_CLOUD_PROJECT_ID=your_project_id
GOOGLE_CLOUD_BUCKET_NAME=weareout-images
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json

# ====================
# Email Configuration
# ====================
# Email service for verification emails (optional)
EMAIL_SERVICE=gmail
EMAIL_USER=your_email@gmail.com
EMAIL_PASSWORD=your_app_password
EMAIL_FROM=WeAreOut <noreply@weareout.com>

# Email verification settings
EMAIL_VERIFICATION_ENABLED=true
EMAIL_VERIFICATION_EXPIRY=24h

# ====================
# File Upload Configuration
# ====================
# Maximum file size for image uploads (in bytes)
# Default: 10MB
MAX_FILE_SIZE=10485760

# Allowed file types
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp,image/heic

# Upload directory
UPLOAD_DIR=./uploads

# ====================
# Logging Configuration
# ====================
# Log level: debug, info, warn, error
LOG_LEVEL=info

# Log format: json, simple
LOG_FORMAT=simple

# ====================
# Development Settings
# ====================
# Enable debug mode (verbose logging)
DEBUG=false

# Enable hot reload
HOT_RELOAD=true

# Database query logging
DB_QUERY_LOGGING=false
